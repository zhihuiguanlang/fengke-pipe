(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be722b10"],{"1f6b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAERklEQVRYR81Y208jZRT/nZkdWqCwiOujJHhJ2KShUpedUi6GyE19lmh8V4wajf+GL5t491mjwVdXuWxCAoVOYdqKaSKJFxJ8cxUvXNoyl2O+stNtSzszVUw6j/Od853fdy6/c76P0OSXSu32wzZmARpj8HUQ+oipS2zDxEdgHBDoe4ATkJRlVY3sN2OC/AgvLi7K/X2PPW+x/TqAOABfegIjgC2ZpPf2D378cn5+3vKy57nxdjIzZcN+F8CA12Ye63sSpDdujkTvuMk1BLS2th/saD+8BeBlZvYE7gcsEQmPfXKa731rcrK/UE+nrqH19cxDAYVvM3jYj6FmZQi0UzTouYmJ6N1a3QuABJg2xV6/hBB54dw7M6SJWlBVgEphCh6u/1+euegN2jkt9E5Uhq8KUEpLf8TMr3gd7TLXiehjNfbkgrNnGZCoJiZeuawE9gtaJDoxzTjVVwIkeKbv4UdyHnmTkGT5bds0PwDRDZ8GM5IsL7Blv8Pgp1x09g5++TkseKoEaEfLvGCx/bmLwmaoKzgXDoePdV2/apq0DGbVFRSxbhiBmfHxwT92d3c7C3nza2aeaKQjk/TicCz6RQmQltQTAEYbCZMkDatqVHfWNU3rJihLzDzSQGc7X5BnJyeH/nTWt7ezT9iWlXU7dGzkxhiJ3sS28ZNrOyBs5/PVBhKJva4r8vE3tQchoiSjey4We/xvx7i+ql81Q1gCEHMBxCQpj1IqlVlg2/7QR06kDbNtWoTAkc3lcqGT4+LtcigImz1m6JmBsYEjR2ZtLdvTHrSWAdz0skHAq5RKpj9l8EtewvfWMzYHp+Px8KEjL/Ijf2p8BYYc6g4+K/LMWdvY2HhAkYMrfouAQJ+RltTTAKI+AYEI34I6p1T1+u/lkOh6h6IoFIlETpx/W1tbvRK1rTazN4AMaZp+F4xrfgHdk/vuzJCm6vUisZ5KpR6ELa8yMNTUvoTfRMgKDA40pXheATnTLj49Ojr6a6WuruvXLJPuMHOk+T2p+B8AiT4kzVSWdolCtB+6wX+tAHDnqTpoCVT8dyEj0gMBaXpo6D7PVHlJlHmXD/KsBSVC1mxSA0gbZn56fHy8XP6imsTelf9KjG5AeMqz3CtwZZore6K0YShVXJTNZnuKRVtUE2q9JkBZBq36HWdKZZ9K6gsM+CHGTEdn29Tg4H1iFKTXEbRXygbrhPKCjEumnxOjj9ZBQNbis6l4PF4mxIanZ9YD7Veq8qvsRWa3KeG8dZQqw7u5xlU1mqwgQtf8EDNzbQUmk7pKgObZXIWA1/hBoC3D6pwbGxs4KjVKHxVUCUo0YkU+WWKwuNPV/arGD18DGmEToDfB/L5fjhGgyLZeY4luMaghGADVA5qA3FIjrOPDlhryBaiWuwYJUC11UXRC11JXaQdUSz02VBJFyzzHVIJqqQerWlotPenBmoXN7k96EiUAueknvX8AkqNlXbd3uqoAAAAASUVORK5CYII="},"615b":function(t,e,s){},"6ece":function(t,e,s){},d08e:function(t,e,s){"use strict";var i=s("d289"),a=s.n(i);a.a},d289:function(t,e,s){},ee79:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.myCurrent.id?s("div",{ref:"chat",staticClass:"chat"},[s("div",{staticClass:"wicket",on:{mousedown:t.move}},[s("div",{staticClass:"wicket-win"},[s("div",{staticClass:"wicket-info"},[s("li",[t._v(t._s(t.myCurrent.username))]),s("v-menu",{attrs:{"nudge-width":100,"open-on-hover":!0,light:"","offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s("v-btn",t._g({staticClass:"ml-6",attrs:{light:"",small:"",color:"success"}},i),[t._v("查看联系方式")])]}}],null,!1,2766937641),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s("v-card",{staticClass:"pa-4"},[s("div",[t._v("手机: "+t._s(t.myCurrent.mobile))]),s("div",[t._v("微信: "+t._s(t.myCurrent.wxNumber))]),s("div",[t._v("邮箱: "+t._s(t.myCurrent.email))])])],1)],1),s("div",{staticClass:"wicket-icon"},[s("v-img",{staticClass:"mt-2 mr-2",attrs:{src:t.imgUrl,width:"24px",height:"24px",light:"",alt:""},on:{click:t.close}})],1)]),s("div",{ref:"container",staticClass:"wicket-content"},t._l(t.lists,(function(e,i){return s("div",{key:i,staticClass:"wicket-content-taik"},[s("div",{class:[e.sendUserId==t.sendUserId?"wicket-speak-btalk":"wicket-speak-atalk"]},[s("div",{staticClass:"wicket-speak-info"},[/(http|https):\/\/([\w.]+\/?)\S*/.test(e.msg)&&null!=e.msg.match(/\.(jpeg|jpg|gif|png|tif)$/)?s("div",{staticClass:"wicket-speak-container"},[s("img",{staticClass:"wicket-speak-image",attrs:{src:e.msg,alt:""}})]):s("div",{staticClass:"wicket-speak-text"},[t._v(t._s(e.msg))])])])])})),0),s("div",{staticClass:"wicket-talk"},[s("div",{staticClass:"wicket-function"},[s("div",{staticClass:"wicket-tool"},[s("v-icon",{attrs:{light:"",color:"white",left:""},domProps:{textContent:t._s("mdi-image")}}),s("input",{ref:"file",staticClass:"upload",attrs:{type:"file",accept:"image/*",name:"file"},on:{change:function(e){return t.getImgBase()}}})],1)]),s("div",{staticClass:"wicket-input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}})]),s("div",{staticClass:"wicket-send"},[s("button",{staticClass:"button",on:{click:function(e){return t.fnAdd()}}},[t._v("发送")])])])])]):t._e()},a=[],r=s("5530"),n=s("2f62"),o={name:"chat",data:function(){return{imgUrl:s("1f6b"),sendUserId:"1",receiveUserId:"",msg:"",lists:[],menu:!1}},computed:Object(r["a"])({},Object(n["c"])(["myCurrent","myHistory"])),watch:{myHistory:{handler:function(t){this.lists=t,this.msg="",this.myCurrent.id&&this.scrollToBottom()},deep:!0}},sockets:{connect:function(){console.log("Socket.io link success")},chatMessage:function(t){this.lists.push(t),this.msg="",this.scrollToBottom()}},methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["saveCurrent","saveHistory"])),{},{scrollToBottom:function(){var t=this;this.$nextTick((function(){t.$refs.container.scrollTop=t.$refs.container.scrollHeight}))},fnAdd:function(){""!=this.msg?(this.$socket.emit("chatMessage",{sendUserId:this.sendUserId,receiveUserId:this.myCurrent.id,msg:this.msg}),this.msg="",this.scrollToBottom()):this.$notice.normal("请输入内容!")},move:function(t){var e=this,s=t.target,i=t.clientX-s.offsetLeft,a=t.clientY-s.offsetTop;document.onmousemove=function(t){var r=t.clientX-i-20,n=t.clientY-a-20,o=e.$refs.chat;r<=0?r=0:r>=o.clientWidth-s.offsetWidth&&(r=o.clientWidth-s.offsetWidth),n<=0?n=0:n>=o.clientHeight-s.offsetHeight&&(n=o.clientHeight-s.offsetHeight),s.style.left=r+"px",s.style.top=n+"px"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}},close:function(){this.saveCurrent({}),this.saveHistory({}),this.lists=[]},getImgBase:function(){var t=this,e=this.$refs.file.files[0],s=new FormData;s.append("file",e),this.$axios.post("/dataManage/document/uploadForChat",s).then((function(e){e&&t.$socket.emit("chatMessage",{sendUserId:t.sendUserId,receiveUserId:t.myCurrent.id,msg:e.result})}))}})},c=o,l=(s("d08e"),s("2877")),d=s("6544"),u=s.n(d),h=s("8336"),m=(s("0481"),s("4069"),s("a9e3"),s("615b"),s("10d2")),g=s("2b0e"),f=(s("c7cd"),s("ade3")),v=(s("6ece"),s("0789")),p=s("a9ad"),k=s("fe6c"),b=s("a452"),C=s("7560"),y=s("80d2"),B=s("58df"),_=Object(B["a"])(p["a"],Object(k["b"])(["absolute","fixed","top","bottom"]),b["a"],C["a"]),w=_.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(y["f"])(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(y["f"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var t,e=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return t={opacity:e},Object(f["a"])(t,this.isReversed?"right":"left",Object(y["f"])(this.normalizedValue,"%")),Object(f["a"])(t,"width",Object(y["f"])(this.normalizedBuffer-this.normalizedValue,"%")),t},classes:function(){return Object(r["a"])({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?v["b"]:v["c"]},isReversed:function(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(y["f"])(this.normalizedBuffer,"%")),t}},methods:{genContent:function(){var t=Object(y["k"])(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners:function(){var t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar:function(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(f["a"])({},t,!0)}))},onClick:function(t){if(this.reactive){var e=this.$el.getBoundingClientRect(),s=e.width;this.internalValue=t.offsetX/s*100}},normalize:function(t){return t<0?0:t>100?100:parseFloat(t)}},render:function(t){var e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(y["f"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),j=w,A=g["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(j,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}}),x=s("1c87"),T=Object(B["a"])(A,x["a"],m["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({"v-card":!0},x["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},m["a"].options.computed.classes.call(this))},styles:function(){var t=Object(r["a"])({},m["a"].options.computed.styles.call(this));return this.img&&(t.background='url("'.concat(this.img,'") center center / cover no-repeat')),t}},methods:{genProgress:function(){var t=A.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),s=e.tag,i=e.data;return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),t(s,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}}),V=s("132d"),z=s("adda"),E=s("e449"),O=Object(l["a"])(c,i,a,!1,null,"55203740",null);e["default"]=O.exports;u()(O,{VBtn:h["a"],VCard:T,VIcon:V["a"],VImg:z["a"],VMenu:E["a"]})}}]);
//# sourceMappingURL=chunk-be722b10.5c799a21.js.map