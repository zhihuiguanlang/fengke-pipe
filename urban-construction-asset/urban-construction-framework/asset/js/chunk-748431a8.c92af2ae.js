(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-748431a8"],{"053b":function(e,t,a){var n=a("1e2c"),i=a("d910").f,o=Function.prototype,r=o.toString,s=/^\s*function ([^ (]*)/,l="name";n&&!(l in o)&&i(o,l,{configurable:!0,get:function(){try{return r.call(this).match(s)[1]}catch(e){return""}}})},"1e86":function(e,t,a){"use strict";var n=a("a803"),i=a.n(n);i.a},"698f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fluxion"},[a("div",{staticClass:"handle"},[a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"light-green"},on:{click:e.addFluxion}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-plus")}}),e._v(" 添加 ")],1),a("v-btn",{staticClass:"mr-3",attrs:{color:"error",loading:e.deleteloading},on:{click:e.deleted}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-delete")}}),e._v(" 删除 ")],1),a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"teal",loading:e.loading},on:{click:e.refresh}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-cached")}}),e._v(" 刷新 ")],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":250,light:"","offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"mr-3",attrs:{outlined:"",color:"cyan"}},n),[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-file-find")}}),e._v(" 搜索 ")],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-card",[a("v-card-text",[a("v-container",[a("v-form",{ref:"searchForm"},[a("v-text-field",{attrs:{label:"设备名称"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}}),a("v-text-field",{attrs:{label:"设备编号"},model:{value:e.searchForm.number,callback:function(t){e.$set(e.searchForm,"number",t)},expression:"searchForm.number"}}),a("v-text-field",{attrs:{label:"设备型号"},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",loading:e.resetloading},on:{click:e.reset}},[e._v("Reset")]),a("v-btn",{attrs:{text:"",color:"primary",loading:e.searchloading},on:{click:e.search}},[e._v("Search")])],1)],1)],1)],1),a("v-alert",{staticClass:"alert",attrs:{tile:"",light:"",dense:"",width:"150",height:"18",color:"cyan",border:"left",elevation:"0","colored-border":"",transition:"scale-transition"}},[e._v(" 流动资产列表 ")]),a("div",{staticClass:"elevation-7"},[a("v-data-table",{attrs:{light:"","show-select":"","fixed-header":"","single-select":"","calculate-width":"",height:"500","item-key":"id",items:e.fluxion,loading:e.table,headers:e.headers,page:e.current,"items-per-page":e.limit,"loading-text":"loading...","server-items-length":e.total,"footer-props":{itemsPerPageOptions:[5,10,15,20]}},on:{"update:page":[function(t){e.current=t},e.updatePage],"update:items-per-page":e.updateItem},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1),a("v-dialog",{attrs:{light:"",persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Fluxion Profile")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.rule.name,label:"设备名称*",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("v-text-field",{attrs:{rules:e.rule.number,label:"设备编号*",required:""},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}}),a("v-text-field",{attrs:{rules:e.rule.type,label:"设备型号*",required:""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}}),a("v-text-field",{attrs:{rules:e.rule.importUserName,label:"导入人员*",required:""},model:{value:e.form.importUserName,callback:function(t){e.$set(e.form,"importUserName",t)},expression:"form.importUserName"}}),a("v-text-field",{attrs:{rules:e.rule.quantity,label:"数量*",required:""},model:{value:e.form.quantity,callback:function(t){e.$set(e.form,"quantity",t)},expression:"form.quantity"}}),a("v-text-field",{attrs:{rules:e.rule.changePeriod,label:"保修期 (天)*",required:""},model:{value:e.form.changePeriod,callback:function(t){e.$set(e.form,"changePeriod",t)},expression:"form.changePeriod"}}),a("v-textarea",{attrs:{rules:e.rule.annotation,label:"备注*",required:"",counter:""},model:{value:e.form.annotation,callback:function(t){e.$set(e.form,"annotation",t)},expression:"form.annotation"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("关闭")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.saveloading},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1)},i=[],o=(a("053b"),a("0eaa")),r={name:"fluxion",data:function(){return{headers:[{text:"设备名称",align:"center",value:"name",width:200},{text:"设备编号",align:"center",value:"number",width:200},{text:"设备型号",align:"center",value:"type",width:200},{text:"导入人员",align:"center",value:"importUserName",width:200},{text:"数量",align:"center",value:"quantity",width:200},{text:"保修期 (天)",align:"center",value:"changePeriod",width:200},{text:"备注",align:"center",value:"annotation",width:200}],page:1,total:0,limit:10,current:1,fluxion:[],form:{name:"",number:"",type:"",importUserName:"",quantity:"",changePeriod:"",annotation:""},searchForm:{name:"",type:"",number:""},rule:{name:[function(e){return!!e||"必填"}],number:[function(e){return!!e||"必填"}],type:[function(e){return!!e||"必填"}],importUserName:[function(e){return!!e||"必填"}],quantity:[function(e){return!!e||"必填"}],changePeriod:[function(e){return!!e||"必填"}],annotation:[function(e){return!!e||"必填"}]},select:[],menu:!1,valid:!0,table:!1,dialog:!1,loading:!1,saveloading:!1,resetloading:!1,searchloading:!1,deleteloading:!1}},mounted:function(){this.myFluxion()},methods:{myFluxion:function(){var e=this;this.table=!0;var t=this.page,a=this.limit,n=this.searchForm,i=n.name,o=n.number,r=n.type;this.$axios.post("/api-assets/liquid/page",{page:t,limit:a,name:i,type:r,number:o}).then((function(t){if(t){var a=t.data,n=a.total,i=a.records,o=a.current;e.total=n,e.fluxion=i,e.current=o}e.menu=!1,e.table=!1,e.loading=!1,e.resetloading=!1,e.searchloading=!1}))},updatePage:function(e){this.page=e,this.myFluxion()},updateItem:function(e){this.limit=e,this.myFluxion()},deleted:function(){var e=this;this.select[0]?(this.deleteloading=!0,this.$axios.delete("/api-assets/liquid/delete",{params:{id:this.select[0].id}}).then((function(t){t&&(e.$notice.success("删除成功"),e.select=[],e.myFluxion()),e.deleteloading=!1}))):this.$notice.error("请选择删除项")},refresh:function(){this.loading=!0,this.myFluxion()},close:function(){this.dialog=!1,this.$refs.form.reset()},addFluxion:function(){this.dialog=!0},reset:function(){this.$refs.searchForm.reset(),this.resetloading=!0,this.page=1,this.myFluxion()},search:function(){this.searchloading=!0,this.page=1,this.myFluxion()},save:function(){var e=this;this.$refs.form.validate(),this.valid&&(this.saveloading=!0,this.$axios.post("/api-assets/liquid/saveOrUpdate",Object(o["a"])({},this.form)).then((function(t){t&&(e.close(),e.page=1,e.myFluxion(),e.$notice.success("添加成功")),e.saveloading=!1})))}}},s=r,l=(a("1e86"),a("4023")),c=a("763f"),u=a.n(c),d=a("e9e4"),m=a("7f93"),h=a("339e"),f=a("30d7"),p=a("d41d"),v=a("53b9"),g=a("8150"),x=a("c30a"),b=a("5fa2"),y=a("c951"),w=a("e935"),k=a("14b5"),F=a("877c"),$=Object(l["a"])(s,n,i,!1,null,"735aff8a",null);t["default"]=$.exports;u()($,{VAlert:d["a"],VBtn:m["a"],VCard:h["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VContainer:p["a"],VDataTable:v["a"],VDialog:g["a"],VForm:x["a"],VIcon:b["a"],VMenu:y["a"],VSpacer:w["a"],VTextField:k["a"],VTextarea:F["a"]})},"877c":function(e,t,a){"use strict";a("d6f5");var n=a("14b5"),i=a("2001");const o=Object(i["a"])(n["a"]);t["a"]=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:e=>!isNaN(parseFloat(e))},rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseInt(e,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...n["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const e=this.$refs.input;if(!e)return;e.style.height="0";const t=e.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(a,t)+"px"},genInput(){const e=n["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput(e){n["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},a803:function(e,t,a){},d6f5:function(e,t,a){}}]);
//# sourceMappingURL=chunk-748431a8.c92af2ae.js.map