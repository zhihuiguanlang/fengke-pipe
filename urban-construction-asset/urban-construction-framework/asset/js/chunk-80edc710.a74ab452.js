(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80edc710"],{"053b":function(e,t,a){var i=a("1e2c"),n=a("d910").f,l=Function.prototype,s=l.toString,r=/^\s*function ([^ (]*)/,o="name";i&&!(o in l)&&n(l,o,{configurable:!0,get:function(){try{return s.call(this).match(r)[1]}catch(e){return""}}})},"0b53":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"remark"},[a("div",{staticClass:"handle"},[a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"light-green"},on:{click:e.addRemark}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-plus")}}),e._v(" 添加标签 ")],1),a("v-btn",{staticClass:"mr-3",attrs:{color:"error",loading:e.deleteloading},on:{click:e.deleted}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-delete")}}),e._v(" 删除 ")],1),a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"teal",loading:e.loading},on:{click:e.refresh}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-cached")}}),e._v(" 刷新 ")],1),a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"cyan"},on:{click:e.lead}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-arrow-up-bold-box-outline")}}),e._v(" 导入 ")],1),a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"cyan"},on:{click:e.download}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-email")}}),e._v(" 下载模板 ")],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":250,light:"","offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"mr-3",attrs:{outlined:"",color:"cyan"}},i),[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-file-find")}}),e._v(" 搜索 ")],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-card",[a("v-card-text",[a("v-container",[a("v-form",{ref:"searchForm"},[a("v-text-field",{attrs:{label:"标签名称"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}}),a("v-text-field",{attrs:{label:"标签编号"},model:{value:e.searchForm.number,callback:function(t){e.$set(e.searchForm,"number",t)},expression:"searchForm.number"}}),a("v-select",{attrs:{label:"标签类型",items:e.type},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}}),a("v-select",{attrs:{items:e.lendState,label:"借出状态"},model:{value:e.searchForm.lendState,callback:function(t){e.$set(e.searchForm,"lendState",t)},expression:"searchForm.lendState"}}),a("v-select",{attrs:{items:e.lableState,label:"标签状态"},model:{value:e.searchForm.lableState,callback:function(t){e.$set(e.searchForm,"lableState",t)},expression:"searchForm.lableState"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",loading:e.resetloading},on:{click:e.reset}},[e._v("Reset")]),a("v-btn",{attrs:{text:"",color:"primary",loading:e.searchloading},on:{click:e.search}},[e._v("Search")])],1)],1)],1)],1),a("v-alert",{staticClass:"alert",attrs:{tile:"",light:"",dense:"",width:"150",height:"18",color:"cyan",border:"left",elevation:"0","colored-border":"",transition:"scale-transition"}},[e._v(" 标签列表 ")]),a("div",{staticClass:"elevation-7"},[a("v-data-table",{attrs:{light:"","show-select":"","fixed-header":"","single-select":"","calculate-width":"",height:"500","item-key":"id",items:e.remark,loading:e.table,headers:e.headers,page:e.current,"items-per-page":e.limit,"loading-text":"loading...","server-items-length":e.total,"footer-props":{itemsPerPageOptions:[5,10,15,20]}},on:{"update:page":[function(t){e.current=t},e.updatePage],"update:items-per-page":e.updateItem},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1),a("v-dialog",{attrs:{light:"",persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Remark Profile")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.rule.name,label:"标签名称*",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("v-text-field",{attrs:{rules:e.rule.number,label:"标签编号*",required:""},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}}),a("v-select",{attrs:{rules:e.rule.type,items:e.type,label:"标签类型*",required:""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}}),a("v-select",{attrs:{rules:e.rule.lendState,items:e.lendState,label:"借出状态*",required:""},model:{value:e.form.lendState,callback:function(t){e.$set(e.form,"lendState",t)},expression:"form.lendState"}}),a("v-select",{attrs:{rules:e.rule.lableState,items:e.lableState,label:"标签状态*",required:""},model:{value:e.form.lableState,callback:function(t){e.$set(e.form,"lableState",t)},expression:"form.lableState"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("关闭")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.saveloading},on:{click:e.save}},[e._v("保存")])],1)],1)],1),a("v-dialog",{attrs:{light:"",persistent:"","max-width":"600px"},model:{value:e.upload,callback:function(t){e.upload=t},expression:"upload"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Upload Profile")])]),a("v-card-text",[a("v-container",[a("v-file-input",{attrs:{light:"",counter:"","show-size":"",label:"文件",accept:".xlsx"},on:{change:e.choose}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancel}},[e._v("关闭")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.submit}},[e._v("上传")])],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.wait,callback:function(t){e.wait=t},expression:"wait"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",{staticClass:"pt-2"},[e._v(" Please stand by "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},n=[],l=(a("053b"),a("0eaa")),s=a("4777"),r={name:"remark",data:function(){return{http:s["a"],headers:[{text:"标签名称",align:"center",value:"name",width:200},{text:"标签编号",align:"center",value:"number",width:200},{text:"标签类型",align:"center",value:"type",width:200},{text:"录入时间",align:"center",value:"createTime",width:200},{text:"借出状态",align:"center",value:"lendState",width:200},{text:"标签状态",align:"center",value:"lableState",width:200}],page:1,total:0,limit:10,current:1,remark:[],form:{name:"",number:"",type:"",lendState:"",lableState:""},searchForm:{name:"",number:"",type:"",lendState:"",lableState:""},rule:{name:[function(e){return!!e||"必填"}],number:[function(e){return!!e||"必填"}],type:[function(e){return!!e||"必填"}],lendState:[function(e){return!!e||"必填"}],lableState:[function(e){return!!e||"必填"}]},type:["机器","人员"],lendState:["借出","可用"],lableState:["损坏","正常"],select:[],file:"",wait:!1,menu:!1,valid:!0,table:!1,dialog:!1,upload:!1,loading:!1,saveloading:!1,resetloading:!1,searchloading:!1,deleteloading:!1}},mounted:function(){this.myRemark()},methods:{myRemark:function(){var e=this;this.table=!0;var t=this.page,a=this.limit,i=this.searchForm,n=i.name,l=i.number,s=i.type,r=i.lendState,o=i.lableState;this.$axios.post("/api-assets/LableManage/page",{page:t,limit:a,name:n,type:s,number:l,lendState:r,lableState:o}).then((function(t){if(t){var a=t.data,i=a.total,n=a.records,l=a.current;e.total=i,e.remark=n,e.current=l}e.menu=!1,e.table=!1,e.loading=!1,e.resetloading=!1,e.searchloading=!1}))},updatePage:function(e){this.page=e,this.myRemark()},updateItem:function(e){this.limit=e,this.myRemark()},deleted:function(){var e=this;this.select[0]?(this.deleteloading=!0,this.$axios.delete("/api-assets/LableManage/delete",{params:{id:this.select[0].id}}).then((function(t){t&&(e.$notice.success("删除成功"),e.select=[],e.myRemark()),e.deleteloading=!1}))):this.$notice.error("请选择删除项")},refresh:function(){this.loading=!0,this.myRemark()},close:function(){this.dialog=!1,this.$refs.form.reset()},cancel:function(){this.upload=!1},addRemark:function(){this.dialog=!0},reset:function(){this.$refs.searchForm.reset(),this.resetloading=!0,this.page=1,this.myRemark()},search:function(){this.searchloading=!0,this.page=1,this.myRemark()},save:function(){var e=this;this.$refs.form.validate(),this.valid&&(this.saveloading=!0,this.$axios.post("/api-assets/LableManage/saveOrUpdate",Object(l["a"])({},this.form)).then((function(t){t&&(e.close(),e.page=1,e.myRemark(),e.$notice.success("添加成功")),e.saveloading=!1})))},lead:function(){this.upload=!0},choose:function(e){this.file=e},submit:function(){var e=this;if(this.file){this.wait=!0;var t=new FormData;t.append("file",this.file),this.$axios.post("/api-assets/LableManage/import",t).then((function(t){t&&(e.cancel(),e.myRemark(),e.$notice.success(t.msg)),e.wait=!1}))}else this.$notice.error("请选择上传文件")},download:function(){var e=this;this.wait=!0,this.$notice.normal("正在下载"),window.open("".concat(s["a"].system,"/api-assets/LableManage/export"),"_self"),setTimeout((function(){e.wait=!1}),500)}}},o=r,c=(a("a34d"),a("4023")),u=a("763f"),d=a.n(u),h=a("e9e4"),m=a("7f93"),p=a("339e"),f=a("30d7"),v=a("d41d"),b=a("53b9"),g=a("8150"),y=a("1550"),x=a("c30a"),S=a("5fa2"),k=a("c951"),$=a("594f"),w=a("2330"),V=a("e935"),C=a("14b5"),_=Object(c["a"])(o,i,n,!1,null,"58223d9e",null);t["default"]=_.exports;d()(_,{VAlert:h["a"],VBtn:m["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VContainer:v["a"],VDataTable:b["a"],VDialog:g["a"],VFileInput:y["a"],VForm:x["a"],VIcon:S["a"],VMenu:k["a"],VProgressLinear:$["a"],VSelect:w["a"],VSpacer:V["a"],VTextField:C["a"]})},1550:function(e,t,a){"use strict";a("d7fd");var i=a("4a37"),n=a("3bb3"),l=a("3373"),s=a("c652");t["a"]=i["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(e)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:e=>Object(l["E"])(e).every(e=>null!=e&&"object"===typeof e)}},computed:{classes(){return{...i["a"].options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const e=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);const t=this.internalArrayValue.reduce((e,{size:t=0})=>e+t,0);return this.$vuetify.lang.t(this.counterSizeString,e,Object(l["u"])(t,1024===this.base))},internalArrayValue(){return Object(l["E"])(this.internalValue)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},isMultiple(){return this.$attrs.hasOwnProperty("multiple")},text(){return this.isDirty?this.internalArrayValue.map(e=>{const{name:t="",size:a=0}=e,i=this.truncateText(t);return this.showSize?`${i} (${Object(l["u"])(a,1024===this.base)})`:i}):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(e){!0===e&&Object(s["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value(e){const t=this.isMultiple?e:e?[e]:[];Object(l["i"])(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.isMultiple?[]:void 0,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map((e,t)=>this.$createElement(n["a"],{props:{small:this.smallChips},on:{"click:close":()=>{const e=this.internalValue;e.splice(t,1),this.internalValue=e}}},[e])):[]},genInput(){const e=i["a"].options.methods.genInput.call(this);return delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot(){if(!this.prependIcon)return null;const e=this.genIcon("prepend",()=>{this.$refs.input.click()});return this.genSlot("prepend","outer",[e])},genSelectionText(){const e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections(){const e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((t,a)=>{this.$scopedSlots.selection&&e.push(this.$scopedSlots.selection({text:this.text[a],file:t,index:a}))}):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot(){const e=i["a"].options.methods.genTextFieldSlot.call(this);return e.data.on={...e.data.on||{},click:()=>this.$refs.input.click()},e},onInput(e){const t=[...e.target.files||[]];this.internalValue=this.isMultiple?t:t[0],this.initialValue=this.internalValue},onKeyDown(e){this.$emit("keydown",e)},truncateText(e){if(e.length<Number(this.truncateLength))return e;const t=Math.floor((Number(this.truncateLength)-1)/2);return`${e.slice(0,t)}…${e.slice(e.length-t)}`}}})},"4a37":function(e,t,a){"use strict";var i=a("14b5");t["a"]=i["a"]},5888:function(e,t,a){},a34d:function(e,t,a){"use strict";var i=a("5888"),n=a.n(i);n.a},d7fd:function(e,t,a){}}]);
//# sourceMappingURL=chunk-80edc710.a74ab452.js.map