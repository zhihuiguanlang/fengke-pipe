(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4af3b4ac"],{4928:function(t,e,s){"use strict";var a=s("eb0c"),i=s.n(a);i.a},"67e5":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alarm"},[a("div",{staticClass:"vessel"},[a("div",{staticClass:"video"},[t._m(0),a("div",{staticClass:"core"},[a("img",{attrs:{src:s("c59e"),alt:""}})])]),a("div",{staticClass:"message"},[t._m(1),a("div",{staticClass:"core"},[a("div",{staticClass:"warn"},[a("div",{staticClass:"name"},[t._v("舱体：")]),a("div",{staticClass:"value"},[t._v(t._s(t.message.capsuleName))])]),a("div",{staticClass:"warn"},[a("div",{staticClass:"name"},[t._v("分区：")]),a("div",{staticClass:"value"},[t._v(t._s(t.message.segmentName))])]),a("div",{staticClass:"warn"},[a("div",{staticClass:"name"},[t._v("报警设备：")]),a("div",{staticClass:"value"},[t._v(t._s(t.message.deviceName))])]),a("div",{staticClass:"warn"},[a("div",{staticClass:"name"},[t._v("设备类型：")]),a("div",{staticClass:"value"},[t._v(t._s(t.message.deviceType))])]),a("div",{staticClass:"warn"},[a("div",{staticClass:"name"},[t._v("报警原因：")]),a("div",{staticClass:"value"},[t._v(t._s(t.message.reason))])]),a("div",{staticClass:"warn"},[a("div",{staticClass:"name"},[t._v("报警值：")]),a("div",{staticClass:"value"},[t._v(t._s(t.message.alarmValue))])]),a("div",{staticClass:"warn"},[a("div",{staticClass:"name"},[t._v("报警等级：")]),a("div",{staticClass:"value"},[t._v(t._s(t.message.level))])]),a("div",{staticClass:"warn"},[a("div",{staticClass:"name"},[t._v("报警类型：")]),a("div",{staticClass:"value"},[t._v(t._s(t.message.typeName))])]),a("div",{staticClass:"warn"},[a("div",{staticClass:"name"},[t._v("报警时间：")]),a("div",{staticClass:"value"},[t._v(" "+t._s(new Date(t.message.alarmTime).toLocaleString())+" ")])])])])]),a("div",{staticClass:"curve"},[a("div",{staticClass:"echart"},[t._m(2),a("div",{directives:[{name:"resize",rawName:"v-resize.quiet",value:t.onResize,expression:"onResize",modifiers:{quiet:!0}}],staticClass:"core"},[a("div",{staticClass:"myCurve",attrs:{id:"myCurve"}})])]),a("div",{staticClass:"deal"},[t._m(3),a("div",{staticClass:"core"},[a("div",{staticClass:"handle"},[a("v-checkbox",{staticClass:"ma-0",attrs:{label:"自动打印",color:"#5FB878","hide-details":"",disabled:"",light:"",dense:""},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}})],1),a("div",{staticClass:"print"},t._l(t.motion,(function(e){return a("span",{key:e.id,staticClass:"hint"},[t._v(" "+t._s(new Date(e.createTime).toLocaleString()+"："+e.description)+" ")])})),0)])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"name"},[t._v(" 实时视频 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"name"},[t._v(" 报警信息 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"name"},[t._v(" 实时曲线 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"name"},[t._v(" 处理措施 ")])])}],n=s("33dc"),c=s("9b6e"),r=s("ae8c"),l={name:"alarm",data:function(){return{chart:{},motion:[],message:{},checkbox:!0,curveTimer:"",motionTimer:""}},computed:Object(c["a"])({},Object(r["c"])(["myAlarm"])),watch:{myAlarm:{handler:function(t){t&&(clearTimeout(this.curveTimer),clearTimeout(this.motionTimer),this.myCurve(t),this.myMotion(t),this.myMessage(t))},immediate:!0,deep:!0}},mounted:function(){},methods:{myMessage:function(t){var e=this;this.$axios.post("/dataManage/alarm/getAlarmById",{id:t}).then((function(t){t&&(e.message=t.result)}))},myMotion:function(t){var e=this;this.$axios.post("/dataManage/alarm/getAlarmSOP",{id:t}).then((function(t){t&&(e.motion=t.result,e.motionTimer=setTimeout((function(){e.myMotion(e.myAlarm)}),2500))}))},myCurve:function(t){var e=this;this.$axios.post("/dataManage/alarm/getAlarmMinuteData",{id:t,isRealTime:!0}).then((function(t){if(t){var s,a=[],i=[],c=Object(n["a"])(t.result.data);try{for(c.s();!(s=c.n()).done;){var r=s.value;i.push(r.value[t.result.dataKey]),a.push(new Date(r.gatherTime).toLocaleString())}}catch(l){c.e(l)}finally{c.f()}e.chart={date:a,data:i},e.$chart.line("myCurve",e.chart),e.curveTimer=setTimeout((function(){e.myCurve(e.myAlarm)}),2500)}}))},onResize:function(){this.$chart.line("myCurve",this.chart)}},beforeDestroy:function(){clearTimeout(this.curveTimer),clearTimeout(this.motionTimer)}},o=l,m=(s("4928"),s("9ca4")),d=s("aeb5"),v=s.n(d),u=(s("8ad0"),s("07e4"),s("5888")),h=s("e77e"),C=s("7476"),p=C["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...h["a"].options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick(()=>this.inputIndeterminate=t)},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(u["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...this.attrs$,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}}),_=s("fd64"),f=s.n(_),g=s("6aca"),b=Object(m["a"])(o,a,i,!1,null,"1378b807",null);e["default"]=b.exports;v()(b,{VCheckbox:p}),f()(b,{Resize:g["a"]})},"8ad0":function(t,e,s){},eb0c:function(t,e,s){}}]);
//# sourceMappingURL=chunk-4af3b4ac.4bf652f1.js.map