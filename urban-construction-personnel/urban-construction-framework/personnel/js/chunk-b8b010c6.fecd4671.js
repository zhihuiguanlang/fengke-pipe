(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8b010c6"],{a09e:function(e,t,a){"use strict";var l=a("cc90"),n=a.n(l);n.a},cc90:function(e,t,a){},f127:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menus"},[a("div",{staticClass:"handle"},[a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"light-green"},on:{click:e.addMenu}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-plus")}}),e._v(" 添加菜单 ")],1),a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"cyan"},on:{click:e.amendMenu}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-pencil")}}),e._v(" 编辑 ")],1),a("v-btn",{staticClass:"mr-3",attrs:{color:"error",loading:e.deleteloading},on:{click:e.deleted}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-delete")}}),e._v(" 删除 ")],1),a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"teal",loading:e.loading},on:{click:e.refresh}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-cached")}}),e._v(" 刷新 ")],1)],1),a("v-alert",{staticClass:"alert",attrs:{tile:"",light:"",dense:"",width:"150",height:"18",color:"cyan",border:"left",elevation:"0","colored-border":"",transition:"scale-transition"}},[e._v(" 菜单列表 ")]),a("div",{staticClass:"elevation-7"},[a("el-table",{attrs:{"tree-props":{children:"subMenus"},data:e.menu,"row-key":"id",border:""}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"菜单名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"url",align:"center",label:"菜单URL","min-width":"200"}}),a("el-table-column",{attrs:{prop:"path",align:"center",label:"菜单PATH","min-width":"200"}}),a("el-table-column",{attrs:{prop:"css",label:"样式",align:"center","min-width":"200"}}),a("el-table-column",{attrs:{label:"方法",align:"center","min-width":"200",prop:"pathMethod"}}),a("el-table-column",{attrs:{label:"类型",align:"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("v-chip",{attrs:{light:"",label:""}},[e._v(" "+e._s(e.status[t.row.type])+" ")])]}}])}),a("el-table-column",{attrs:{width:"45",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("v-checkbox",{staticClass:"my-2",staticStyle:{height:"30px"},attrs:{light:"",dense:"",multiple:"",color:"rgba(0, 0, 0, 0.54)",value:JSON.stringify(t.row)},on:{click:function(a){return e.choice(t.row)}},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})]}}])})],1)],1),a("v-dialog",{attrs:{light:"",persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Menu Profile")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.rule.name,label:"菜单名称*",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("v-text-field",{attrs:{rules:e.rule.url,label:"菜单URL*",required:""},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}}),a("v-text-field",{attrs:{rules:e.rule.path,label:"菜单PATH*",required:""},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}}),a("v-text-field",{attrs:{rules:e.rule.pathMethod,label:"请求方法*",required:""},model:{value:e.form.pathMethod,callback:function(t){e.$set(e.form,"pathMethod",t)},expression:"form.pathMethod"}}),a("v-select",{attrs:{rules:e.rule.type,items:e.type,label:"类型*",required:""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}}),a("v-select",{attrs:{rules:e.rule.parentId,label:"上级菜单*","item-text":"name","item-value":"id",items:e.boss,required:""},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("关闭")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.saveloading},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1)},n=[],i=(a("b4fb"),a("0eaa")),r=a("c52d"),s={name:"menus",data:function(){return{menu:[],boss:[],status:{1:"菜单路径",2:"接口资源"},type:[{text:"菜单路径",value:1},{text:"接口资源",value:2}],form:{name:"",url:"",type:"",path:"",parentId:"",pathMethod:""},rule:{name:[function(e){return!!e||"必填"}],url:[function(e){return!!e||"必填"}],type:[function(e){return!!e||"必填"}],path:[function(e){return!!e||"必填"}],parentId:[function(e){return!!e||"必选"}],pathMethod:[function(e){return!!e||"必填"}]},select:[],valid:!0,dialog:!1,loading:!1,saveloading:!1,deleteloading:!1}},mounted:function(){this.myMenu()},methods:{myMenu:function(){var e=this;this.$axios.get("/api-user/menus/findAlls").then((function(t){t&&(e.menu=t.data,e.boss=[{id:-1,name:"顶级目录"}].concat(Object(r["a"])(e.menu))),e.loading=!1}))},deleted:function(){var e=this;this.select[0]?(this.deleteloading=!0,this.$axios.delete("/api-user/menus/delete",{params:{id:JSON.parse(this.select[0]).id}}).then((function(t){t&&(e.$notice.success("删除成功"),e.select=[],e.myMenu()),e.deleteloading=!1}))):this.$notice.error("请选择删除项")},refresh:function(){this.loading=!0,this.myMenu()},close:function(){this.dialog=!1,this.$refs.form.reset()},addMenu:function(){delete this.form["id"],this.dialog=!0},amendMenu:function(){this.select[0]?(this.form=Object(i["a"])({},JSON.parse(this.select[0])),this.dialog=!0):this.$notice.error("请选择编辑项")},save:function(){var e=this;this.$refs.form.validate(),this.valid&&(this.saveloading=!0,this.$axios.post("/api-user/menus/saveOrUpdate",Object(i["a"])({},this.form)).then((function(t){t&&(e.$notice.success("操作成功"),e.select=[],e.myMenu(),e.close()),e.saveloading=!1})))},choice:function(e){this.select=[JSON.stringify(e)]}}},o=s,c=(a("a09e"),a("4023")),d=a("aeb5"),u=a.n(d),m=a("075d"),f=a("6178"),h=a("1656"),p=a("818b"),v=a("81a6"),b=a("b5e3"),g=a("9777"),x=a("c0fe"),k=a("11cf"),y=a("4dee"),C=a("ec957"),w=a("dad0"),M=a("2b7d"),_=Object(c["a"])(o,l,n,!1,null,"59bf738a",null);t["default"]=_.exports;u()(_,{VAlert:m["a"],VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCheckbox:v["a"],VChip:b["a"],VContainer:g["a"],VDialog:x["a"],VForm:k["a"],VIcon:y["a"],VSelect:C["a"],VSpacer:w["a"],VTextField:M["a"]})}}]);
//# sourceMappingURL=chunk-b8b010c6.fecd4671.js.map